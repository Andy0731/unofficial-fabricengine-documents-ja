<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml" lang="ja">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>SkinningAttribute.kl &mdash; Fabric Engine 2.3.0 Unofficial Documentation (ja)</title>
    
    <link rel="stylesheet" href="../../_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '2.3.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/translations.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="Fabric Engine 2.3.0 Unofficial Documentation (ja)" href="../../index.html" />
    <link rel="up" title="Geometry Extension’s Files" href="files.html" />
    <link rel="next" title="SparseGrid.kl" href="SparseGrid.kl.html" />
    <link rel="prev" title="ScalarConstantArrayAttribute.kl" href="ScalarConstantArrayAttribute.kl.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>ナビゲーション</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="総合索引"
             accesskey="I">索引</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Pythonモジュール索引"
             >モジュール</a> |</li>
        <li class="right" >
          <a href="SparseGrid.kl.html" title="SparseGrid.kl"
             accesskey="N">次へ</a> |</li>
        <li class="right" >
          <a href="ScalarConstantArrayAttribute.kl.html" title="ScalarConstantArrayAttribute.kl"
             accesskey="P">前へ</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">Fabric Engine 2.3.0 Unofficial Documentation (ja)</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >KL エクステンションガイド</a> &raquo;</li>
          <li class="nav-item nav-item-2"><a href="index.html" >Geometry エクステンション</a> &raquo;</li>
          <li class="nav-item nav-item-3"><a href="files.html" accesskey="U">Geometry Extension&#8217;s Files</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="geometry-skinningattribute-kl">
<span id="skinningattribute-kl"></span><span id="id1"></span><h1>SkinningAttribute.kl<a class="headerlink" href="#geometry-skinningattribute-kl" title="このヘッドラインへのパーマリンク">¶</a></h1>
<p><div class="section" id="types">
<h2>Types<a class="headerlink" href="#types" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p><div class="section" id="skinningattributedata-struct">
<h3>SkinningAttributeData (struct)<a class="headerlink" href="#skinningattributedata-struct" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p class="plaintext">A simple struct that holds the data for the <a class="reference internal" href="SkinningAttribute.html#skinningattribute"><span class="std std-ref">SkinningAttribute</span></a>. This struct can be moved to the GPU
wholesale, and its methods will also continue to work on the GPU.
This is a workaround untill objects are supported on the GPU. currently only structs are supported,
so we move the data and important fucntions to the struct, and add the struct to objct as a member.</p>
<div class="section" id="members">
<h4>Members<a class="headerlink" href="#members" title="このヘッドラインへのパーマリンク">¶</a></h4>
<table border="1" class="paramtable docutils">
<colgroup>
<col width="71%" />
<col width="25%" />
<col width="4%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Size</td>
<td>count</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../Containers/UInt32ArrayAllocator.html#uint32arrayallocator"><span class="std std-ref">UInt32ArrayAllocator</span></a></td>
<td>weightsAllocator</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="../Math/UInt16.html#uint16"><span class="std std-ref">UInt16</span></a>[]</td>
<td>ids</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../Math/UInt32.html#uint32"><span class="std std-ref">UInt32</span></a>[]</td>
<td>offsets</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="../Math/UInt16.html#uint16"><span class="std std-ref">UInt16</span></a>[]</td>
<td>counts</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="methods">
<h4>Methods<a class="headerlink" href="#methods" title="このヘッドラインへのパーマリンク">¶</a></h4>
<p><table border="1" class="methodtable docutils">
<colgroup>
<col width="15%" />
<col width="85%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>&nbsp;</td>
<td><a class="reference internal" href="SkinningAttributeData.html#id114450"><span class="std std-ref">SkinningAttributeData</span></a>  ( in <a class="reference internal" href="SkinningAttributeData.html#skinningattributedata"><span class="std std-ref">SkinningAttributeData</span></a> other )</td>
</tr>
<tr class="row-even"><td>&nbsp;</td>
<td><a class="reference internal" href="SkinningAttributeData.html#id51072"><span class="std std-ref">SkinningAttributeData</span></a>  ()</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="SkinningAttributeData.html#skinningattributedata"><span class="std std-ref">SkinningAttributeData</span></a></td>
<td><a class="reference internal" href="SkinningAttributeData.html#id114454"><span class="std std-ref">clone</span></a> ? ()</td>
</tr>
<tr class="row-even"><td>&nbsp;</td>
<td><a class="reference internal" href="SkinningAttributeData.html#id51078"><span class="std std-ref">cloneMembersTo</span></a> ? ( io <a class="reference internal" href="SkinningAttributeData.html#skinningattributedata"><span class="std std-ref">SkinningAttributeData</span></a> that )</td>
</tr>
<tr class="row-odd"><td>&nbsp;</td>
<td><a class="reference internal" href="SkinningAttributeData.html#id51167"><span class="std std-ref">copyFrom</span></a> ! ( in <a class="reference internal" href="SkinningAttributeData.html#skinningattributedata"><span class="std std-ref">SkinningAttributeData</span></a> other )</td>
</tr>
<tr class="row-even"><td>&nbsp;</td>
<td><a class="reference internal" href="SkinningAttributeData.html#id51145"><span class="std std-ref">copyValue</span></a> ! ( in Size sourceIndex, in Size targetIndex )</td>
</tr>
<tr class="row-odd"><td>&nbsp;</td>
<td><a class="reference internal" href="SkinningAttributeData.html#id51155"><span class="std std-ref">copyValue</span></a> ! ( in <a class="reference internal" href="SkinningAttributeData.html#skinningattributedata"><span class="std std-ref">SkinningAttributeData</span></a> source, in Size sourceIndex, in Size targetIndex )</td>
</tr>
<tr class="row-even"><td>Boolean</td>
<td><a class="reference internal" href="SkinningAttributeData.html#id51289"><span class="std std-ref">equalValues</span></a> ? ( in Size index1, in Size index2 )</td>
</tr>
<tr class="row-odd"><td>&nbsp;</td>
<td><a class="reference internal" href="SkinningAttributeData.html#id51245"><span class="std std-ref">getLinearCombination</span></a> ? ( in <a class="reference internal" href="../Containers/LocalL16UInt32Array.html#locall16uint32array"><span class="std std-ref">LocalL16UInt32Array</span></a> sourceIndices, in <a class="reference internal" href="../Containers/LocalL16ScalarArray.html#locall16scalararray"><span class="std std-ref">LocalL16ScalarArray</span></a> sourceWeights, out <a class="reference internal" href="../Containers/LocalL16UInt32Array.html#locall16uint32array"><span class="std std-ref">LocalL16UInt32Array</span></a> skinIds, out <a class="reference internal" href="../Containers/LocalL16ScalarArray.html#locall16scalararray"><span class="std std-ref">LocalL16ScalarArray</span></a> skinWeights )</td>
</tr>
<tr class="row-even"><td>&nbsp;</td>
<td><a class="reference internal" href="SkinningAttributeData.html#id51207"><span class="std std-ref">getPair</span></a> ? ( in <a class="reference internal" href="../Math/UInt32.html#uint32"><span class="std std-ref">UInt32</span></a> index, in <a class="reference internal" href="../Math/UInt32.html#uint32"><span class="std std-ref">UInt32</span></a> offset, out <a class="reference internal" href="../Math/UInt16.html#uint16"><span class="std std-ref">UInt16</span></a> id, out <a class="reference internal" href="../Math/Scalar.html#scalar"><span class="std std-ref">Scalar</span></a> weight )</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="../Math/UInt16.html#uint16"><span class="std std-ref">UInt16</span></a></td>
<td><a class="reference internal" href="SkinningAttributeData.html#id51185"><span class="std std-ref">getPairCount</span></a> ? ( in <a class="reference internal" href="../Math/UInt32.html#uint32"><span class="std std-ref">UInt32</span></a> index )</td>
</tr>
<tr class="row-even"><td>&nbsp;</td>
<td><a class="reference internal" href="SkinningAttributeData.html#id51221"><span class="std std-ref">getPairs</span></a> ? ( in <a class="reference internal" href="../Math/UInt32.html#uint32"><span class="std std-ref">UInt32</span></a> index, out <a class="reference internal" href="../Containers/LocalL16UInt32Array.html#locall16uint32array"><span class="std std-ref">LocalL16UInt32Array</span></a> skinIds, out <a class="reference internal" href="../Containers/LocalL16ScalarArray.html#locall16scalararray"><span class="std std-ref">LocalL16ScalarArray</span></a> skinWeights )</td>
</tr>
<tr class="row-odd"><td>&nbsp;</td>
<td><a class="reference internal" href="SkinningAttributeData.html#id51259"><span class="std std-ref">linearCombine</span></a> ! ( in Ref&lt;Object&gt; sourceAttr, in <a class="reference internal" href="../Containers/LocalL16UInt32Array.html#locall16uint32array"><span class="std std-ref">LocalL16UInt32Array</span></a> sourceIndices, in <a class="reference internal" href="../Containers/LocalL16ScalarArray.html#locall16scalararray"><span class="std std-ref">LocalL16ScalarArray</span></a> sourceWeights, in Size targetIndex )</td>
</tr>
<tr class="row-even"><td>Size</td>
<td><a class="reference internal" href="SkinningAttributeData.html#id51075"><span class="std std-ref">memUsage</span></a> ? ()</td>
</tr>
<tr class="row-odd"><td>&nbsp;</td>
<td><a class="reference internal" href="SkinningAttributeData.html#id51273"><span class="std std-ref">normalize</span></a> ! ( in Size index )</td>
</tr>
<tr class="row-even"><td>&nbsp;</td>
<td><a class="reference internal" href="SkinningAttributeData.html#id51131"><span class="std std-ref">resize</span></a> ! ( in Size count )</td>
</tr>
<tr class="row-odd"><td>&nbsp;</td>
<td><a class="reference internal" href="SkinningAttributeData.html#id51193"><span class="std std-ref">setPair</span></a> ! ( in <a class="reference internal" href="../Math/UInt32.html#uint32"><span class="std std-ref">UInt32</span></a> index, in <a class="reference internal" href="../Math/UInt32.html#uint32"><span class="std std-ref">UInt32</span></a> offset, in <a class="reference internal" href="../Math/UInt16.html#uint16"><span class="std std-ref">UInt16</span></a> id, in <a class="reference internal" href="../Math/Scalar.html#scalar"><span class="std std-ref">Scalar</span></a> weight )</td>
</tr>
<tr class="row-even"><td>&nbsp;</td>
<td><a class="reference internal" href="SkinningAttributeData.html#id51175"><span class="std std-ref">setPairCount</span></a> ! ( in <a class="reference internal" href="../Math/UInt32.html#uint32"><span class="std std-ref">UInt32</span></a> index, in <a class="reference internal" href="../Math/UInt16.html#uint16"><span class="std std-ref">UInt16</span></a> pairCount )</td>
</tr>
<tr class="row-odd"><td>&nbsp;</td>
<td><a class="reference internal" href="SkinningAttributeData.html#id51233"><span class="std std-ref">setPairs</span></a> ! ( in <a class="reference internal" href="../Math/UInt32.html#uint32"><span class="std std-ref">UInt32</span></a> index, in <a class="reference internal" href="../Containers/LocalL16UInt32Array.html#locall16uint32array"><span class="std std-ref">LocalL16UInt32Array</span></a> skinIds, in <a class="reference internal" href="../Containers/LocalL16ScalarArray.html#locall16scalararray"><span class="std std-ref">LocalL16ScalarArray</span></a> skinWeights )</td>
</tr>
<tr class="row-even"><td>Size</td>
<td><a class="reference internal" href="SkinningAttributeData.html#id51066"><span class="std std-ref">size</span></a> ? ()</td>
</tr>
</tbody>
</table>
</p>
</div>
</div>
</p>
<p><div class="section" id="geometryattributes-object">
<h3>GeometryAttributes (object)<a class="headerlink" href="#geometryattributes-object" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p class="plaintext">The <a class="reference internal" href="GeometryAttributes.html#geometryattributes"><span class="std std-ref">GeometryAttributes</span></a> object is a generic container that contains a named set of <a class="reference internal" href="GeometryAttribute.html#geometryattribute"><span class="std std-ref">GeometryAttribute</span></a>. Each <a class="reference internal" href="GeometryAttribute.html#geometryattribute"><span class="std std-ref">GeometryAttribute</span></a> is
an array containing values of a specific type. For example, the &#8220;positions&#8221; attribute is typically a <a class="reference internal" href="Vec3Attribute.html#vec3attribute"><span class="std std-ref">Vec3Attribute</span></a> containing <a class="reference internal" href="../Math/Vec3.html#vec3"><span class="std std-ref">Vec3</span></a> elements.</p>
<p class="plaintext">All Geometry types, such as the PolygonMesh, contain a GeometryAttributes container which can be retrieved using the <a class="reference internal" href="Geometry.html#id53013"><span class="std std-ref">Geometry.getAttributes</span></a>
interface method. However, it is the geometry that controls the order and meaning of the attribute elements within the <a class="reference internal" href="GeometryAttribute.html#geometryattribute"><span class="std std-ref">GeometryAttribute</span></a> array.
For example, the <a class="reference internal" href="PolygonMesh.html#polygonmesh"><span class="std std-ref">PolygonMesh</span></a> maintains information about how the values are shared.</p>
<div class="admonition note">
<p class="first admonition-title">注釈</p>
<p class="last">Attributes needs to be uniquely identified by a name. The <a class="reference internal" href="GeometryAttributes.html#geometryattributes"><span class="std std-ref">GeometryAttributes</span></a> cannot contain multiple attributes with the same name, even if the type differs.</p>
</div>
<div class="section" id="attribute-versioning">
<span id="attributeversioning"></span><h4>Attribute versioning<a class="headerlink" href="#attribute-versioning" title="このヘッドラインへのパーマリンク">¶</a></h4>
<p>In order to allow for optimal performance and multithreading, attributes contain a version number (UInt32) which has to be explicitly incremented after 
value modifications. However, if the size of the attribute array changes, the version will be automatically incremented. Attribute clients, such as
InlineDrawing, can then detect value changes efficiently in order to update their state.</p>
<div class="admonition note">
<p class="first admonition-title">注釈</p>
<p class="last">This versioning strategy favors performance over simplicity. Another choice could have been to automatically increase the version 
when detecting a value difference. Another could have been to let the clients compare values to their last state using a copy or 
a hash of the values. However, these would have caused performance overhead that could be relatively important in some situations.</p>
</div>
<p>Similarly, the <cite>GeometryAttributes.keysVersion</cite>  member defines a version for the set of attributes, which will get 
incremented only if attributes get added or removed from the container, but not upon attribute resize or value changes.</p>
</div>
<div class="section" id="id2">
<h4>Members<a class="headerlink" href="#id2" title="このヘッドラインへのパーマリンク">¶</a></h4>
<table border="1" class="paramtable docutils">
<colgroup>
<col width="20%" />
<col width="9%" />
<col width="70%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="../Math/UInt32.html#uint32"><span class="std std-ref">UInt32</span></a></td>
<td>keysVersion</td>
<td>Version of the attribute set. This is incremented only if attributes are added or removed, and not if values are changed or values array is resized.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../Math/UInt32.html#uint32"><span class="std std-ref">UInt32</span></a></td>
<td>attributesValueVersion</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>Ref&lt;<a class="reference internal" href="GeometryAttribute.html#geometryattribute"><span class="std std-ref">GeometryAttribute</span></a>&gt;</td>
<td>positionsAttribute</td>
<td>Fast access to the positions attribute, if it exists. Note: might be <a class="reference internal" href="Vec3Attribute.html#vec3attribute"><span class="std std-ref">Vec3Attribute</span></a> or <a class="reference internal" href="Vec3_dAttribute.html#vec3-dattribute"><span class="std std-ref">Vec3_dAttribute</span></a> depending on the precision.</td>
</tr>
<tr class="row-even"><td>Ref&lt;<a class="reference internal" href="GeometryAttribute.html#geometryattribute"><span class="std std-ref">GeometryAttribute</span></a>&gt;</td>
<td>normalsAttribute</td>
<td>Fast access to normals attribute, if it exists.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="../Util/String.html#string"><span class="std std-ref">String</span></a></td>
<td>debugName</td>
<td>Name to be used by descriptions</td>
</tr>
</tbody>
</table>
<div class="highlight-kl"><div class="highlight"><pre><span></span><span class="cm">/*</span>
<span class="cm">** Example: GeometryAttributes</span>
<span class="cm">*/</span>

<span class="kr">require</span> <span class="nx">Geometry</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">reportAttributes</span><span class="p">(</span> <span class="nx">Geometry</span> <span class="nx">geom</span> <span class="p">)</span> <span class="p">{</span>
  <span class="c1">// Get the attributes container from the geometry</span>
  <span class="nx">Ref</span><span class="o">&lt;</span><span class="nx">GeometryAttributes</span><span class="o">&gt;</span> <span class="nx">attributes</span> <span class="o">=</span> <span class="nx">geom</span><span class="p">.</span><span class="nx">getAttributes</span><span class="p">();</span>
  <span class="nb">report</span><span class="p">(</span><span class="s1">&#39;Number of attributes: &#39;</span> <span class="o">+</span> <span class="nx">attributes</span><span class="p">.</span><span class="nx">attributeCount</span><span class="p">());</span>
  <span class="nb">report</span><span class="p">(</span><span class="s1">&#39;Number of elements: &#39;</span> <span class="o">+</span> <span class="nx">attributes</span><span class="p">.</span><span class="nx">size</span><span class="p">());</span>

  <span class="c1">// Iterate over the attributes</span>
  <span class="nx">GeometryAttributesIterator</span> <span class="nx">iter</span> <span class="o">=</span> <span class="nx">attributes</span><span class="p">.</span><span class="nx">getAttributesIterator</span><span class="p">();</span>
  <span class="nx">Ref</span><span class="o">&lt;</span><span class="nx">GeometryAttribute</span><span class="o">&gt;</span> <span class="nx">attribute</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
  <span class="k">while</span><span class="p">(</span> <span class="nx">attribute</span> <span class="o">=</span> <span class="nx">iter</span><span class="p">.</span><span class="nx">getNext</span><span class="p">()</span> <span class="p">)</span>
   <span class="nb">report</span><span class="p">(</span> <span class="s1">&#39;Attribute &#39;</span> <span class="o">+</span> <span class="nx">attribute</span><span class="p">.</span><span class="nx">getName</span><span class="p">()</span> <span class="o">+</span> <span class="s1">&#39; of type &#39;</span> <span class="o">+</span> <span class="nx">attribute</span><span class="p">.</span><span class="nx">type</span><span class="p">()</span> <span class="p">);</span>
<span class="p">}</span>

<span class="kd">operator</span> <span class="nx">entry</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">PolygonMesh</span> <span class="nx">p</span><span class="p">();</span>
  <span class="nx">p</span><span class="p">.</span><span class="nx">addSphere</span><span class="p">(</span>  <span class="nx">Xfo</span><span class="p">(),</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="kc">true</span><span class="p">,</span> <span class="kc">true</span> <span class="p">);</span>
  <span class="nx">reportAttributes</span><span class="p">(</span><span class="nx">p</span><span class="p">);</span>
<span class="p">}</span>

<span class="cm">/*</span>
<span class="cm">** Output:</span>

<span class="cm">Number of attributes: 3</span>
<span class="cm">Number of elements: 77</span>
<span class="cm">Attribute positions of type Vec3Attribute</span>
<span class="cm">Attribute normals of type Vec3Attribute</span>
<span class="cm">Attribute uvs0 of type Vec2Attribute</span>

<span class="cm">*/</span>
</pre></div>
</div>
</div>
<div class="section" id="id3">
<h4>Methods<a class="headerlink" href="#id3" title="このヘッドラインへのパーマリンク">¶</a></h4>
<p><table border="1" class="methodtable docutils">
<colgroup>
<col width="28%" />
<col width="72%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>&nbsp;</td>
<td><a class="reference internal" href="GeometryAttributes.html#id113778"><span class="std std-ref">GeometryAttributes</span></a>  ( in <a class="reference internal" href="GeometryAttributes.html#geometryattributes"><span class="std std-ref">GeometryAttributes</span></a> other )</td>
</tr>
<tr class="row-even"><td>&nbsp;</td>
<td><a class="reference internal" href="GeometryAttributes.html#id50638"><span class="std std-ref">GeometryAttributes</span></a>  ()</td>
</tr>
<tr class="row-odd"><td>&nbsp;</td>
<td><a class="reference internal" href="GeometryAttributes.html#id50698"><span class="std std-ref">attachNewAttribute</span></a> ! ( in Ref&lt;<a class="reference internal" href="GeometryAttribute.html#geometryattribute"><span class="std std-ref">GeometryAttribute</span></a>&gt; attribute )</td>
</tr>
<tr class="row-even"><td>Size</td>
<td><a class="reference internal" href="GeometryAttributes.html#id50662"><span class="std std-ref">attributeCount</span></a> ? ()</td>
</tr>
<tr class="row-odd"><td>&nbsp;</td>
<td><a class="reference internal" href="GeometryAttributes.html#id50648"><span class="std std-ref">clear</span></a> ! ()</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="GeometryAttributes.html#geometryattributes"><span class="std std-ref">GeometryAttributes</span></a></td>
<td><a class="reference internal" href="GeometryAttributes.html#id113782"><span class="std std-ref">clone</span></a> ? ()</td>
</tr>
<tr class="row-odd"><td>&nbsp;</td>
<td><a class="reference internal" href="GeometryAttributes.html#id50655"><span class="std std-ref">cloneMembersTo</span></a> ? ( io <a class="reference internal" href="GeometryAttributes.html#geometryattributes"><span class="std std-ref">GeometryAttributes</span></a> that )</td>
</tr>
<tr class="row-even"><td>&nbsp;</td>
<td><a class="reference internal" href="GeometryAttributes.html#id50651"><span class="std std-ref">copy</span></a> ! ( in Ref&lt;<a class="reference internal" href="GeometryAttributes.html#geometryattributes"><span class="std std-ref">GeometryAttributes</span></a>&gt; other )</td>
</tr>
<tr class="row-odd"><td>&nbsp;</td>
<td><a class="reference internal" href="GeometryAttributes.html#id50665"><span class="std std-ref">copyValue</span></a> ? ( in Size sourceIndex, in Size targetIndex )</td>
</tr>
<tr class="row-even"><td>Ref&lt;<a class="reference internal" href="GeometryAttribute.html#geometryattribute"><span class="std std-ref">GeometryAttribute</span></a>&gt;</td>
<td><a class="reference internal" href="GeometryAttributes.html#id50676"><span class="std std-ref">getAttribute</span></a> ? ( in <a class="reference internal" href="../Util/String.html#string"><span class="std std-ref">String</span></a> name )</td>
</tr>
<tr class="row-odd"><td>Ref&lt;<a class="reference internal" href="GeometryAttribute.html#geometryattribute"><span class="std std-ref">GeometryAttribute</span></a>&gt;</td>
<td><a class="reference internal" href="GeometryAttributes.html#id50684"><span class="std std-ref">getAttribute</span></a> ? ( in <a class="reference internal" href="../Util/String.html#string"><span class="std std-ref">String</span></a> name, in Type expectedAttributeType )</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../Util/String.html#string"><span class="std std-ref">String</span></a></td>
<td><a class="reference internal" href="GeometryAttributes.html#id50717"><span class="std std-ref">getAttributeListDesc</span></a> ? ()</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="GeometryAttributesIterator.html#geometryattributesiterator"><span class="std std-ref">GeometryAttributesIterator</span></a></td>
<td><a class="reference internal" href="GeometryAttributes.html#id50729"><span class="std std-ref">getAttributesIterator</span></a> ? ()</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../Util/String.html#string"><span class="std std-ref">String</span></a></td>
<td><a class="reference internal" href="GeometryAttributes.html#id50710"><span class="std std-ref">getDesc</span></a> ? ( in Boolean useUnitTestPrint )</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="../Util/String.html#string"><span class="std std-ref">String</span></a></td>
<td><a class="reference internal" href="GeometryAttributes.html#id50714"><span class="std std-ref">getDesc</span></a> ? ()</td>
</tr>
<tr class="row-even"><td>Ref&lt;<a class="reference internal" href="Vec3Attribute.html#vec3attribute"><span class="std std-ref">Vec3Attribute</span></a>&gt;</td>
<td><a class="reference internal" href="GeometryAttributes.html#id52418"><span class="std std-ref">getNormals</span></a> ? ()</td>
</tr>
<tr class="row-odd"><td>Ref&lt;<a class="reference internal" href="GeometryAttribute.html#geometryattribute"><span class="std std-ref">GeometryAttribute</span></a>&gt;</td>
<td><a class="reference internal" href="GeometryAttributes.html#id52377"><span class="std std-ref">getOrCreateAttribute</span></a> ! ( in <a class="reference internal" href="../Util/String.html#string"><span class="std std-ref">String</span></a> name, in Type attributeType )</td>
</tr>
<tr class="row-even"><td>Ref&lt;<a class="reference internal" href="ColorAttribute.html#colorattribute"><span class="std std-ref">ColorAttribute</span></a>&gt;</td>
<td><a class="reference internal" href="GeometryAttributes.html#id52215"><span class="std std-ref">getOrCreateColorAttribute</span></a> ! ( in <a class="reference internal" href="../Util/String.html#string"><span class="std std-ref">String</span></a> name )</td>
</tr>
<tr class="row-odd"><td>Ref&lt;<a class="reference internal" href="IntegerAttribute.html#integerattribute"><span class="std std-ref">IntegerAttribute</span></a>&gt;</td>
<td><a class="reference internal" href="GeometryAttributes.html#id51393"><span class="std std-ref">getOrCreateIntegerAttribute</span></a> ! ( in <a class="reference internal" href="../Util/String.html#string"><span class="std std-ref">String</span></a> name )</td>
</tr>
<tr class="row-even"><td>Ref&lt;<a class="reference internal" href="Mat33Attribute.html#mat33attribute"><span class="std std-ref">Mat33Attribute</span></a>&gt;</td>
<td><a class="reference internal" href="GeometryAttributes.html#id52294"><span class="std std-ref">getOrCreateMat33Attribute</span></a> ! ( in <a class="reference internal" href="../Util/String.html#string"><span class="std std-ref">String</span></a> name )</td>
</tr>
<tr class="row-odd"><td>Ref&lt;<a class="reference internal" href="Mat44Attribute.html#mat44attribute"><span class="std std-ref">Mat44Attribute</span></a>&gt;</td>
<td><a class="reference internal" href="GeometryAttributes.html#id52373"><span class="std std-ref">getOrCreateMat44Attribute</span></a> ! ( in <a class="reference internal" href="../Util/String.html#string"><span class="std std-ref">String</span></a> name )</td>
</tr>
<tr class="row-even"><td>Ref&lt;<a class="reference internal" href="Vec3Attribute.html#vec3attribute"><span class="std std-ref">Vec3Attribute</span></a>&gt;</td>
<td><a class="reference internal" href="GeometryAttributes.html#id52415"><span class="std std-ref">getOrCreateNormals</span></a> ! ()</td>
</tr>
<tr class="row-odd"><td>Ref&lt;<a class="reference internal" href="Vec3Attribute.html#vec3attribute"><span class="std std-ref">Vec3Attribute</span></a>&gt;</td>
<td><a class="reference internal" href="GeometryAttributes.html#id52385"><span class="std std-ref">getOrCreatePositions</span></a> ! ()</td>
</tr>
<tr class="row-even"><td>Ref&lt;<a class="reference internal" href="Vec3_dAttribute.html#vec3-dattribute"><span class="std std-ref">Vec3_dAttribute</span></a>&gt;</td>
<td><a class="reference internal" href="GeometryAttributes.html#id52388"><span class="std std-ref">getOrCreatePositions_d</span></a> ! ()</td>
</tr>
<tr class="row-odd"><td>Ref&lt;<a class="reference internal" href="QuatAttribute.html#quatattribute"><span class="std std-ref">QuatAttribute</span></a>&gt;</td>
<td><a class="reference internal" href="GeometryAttributes.html#id52136"><span class="std std-ref">getOrCreateQuatAttribute</span></a> ! ( in <a class="reference internal" href="../Util/String.html#string"><span class="std std-ref">String</span></a> name )</td>
</tr>
<tr class="row-even"><td>Ref&lt;<a class="reference internal" href="RGBAAttribute.html#rgbaattribute"><span class="std std-ref">RGBAAttribute</span></a>&gt;</td>
<td><a class="reference internal" href="GeometryAttributes.html#id51731"><span class="std std-ref">getOrCreateRGBAAttribute</span></a> ! ( in <a class="reference internal" href="../Util/String.html#string"><span class="std std-ref">String</span></a> name )</td>
</tr>
<tr class="row-odd"><td>Ref&lt;<a class="reference internal" href="RGBAttribute.html#rgbattribute"><span class="std std-ref">RGBAttribute</span></a>&gt;</td>
<td><a class="reference internal" href="GeometryAttributes.html#id51652"><span class="std std-ref">getOrCreateRGBAttribute</span></a> ! ( in <a class="reference internal" href="../Util/String.html#string"><span class="std std-ref">String</span></a> name )</td>
</tr>
<tr class="row-even"><td>Ref&lt;<a class="reference internal" href="ScalarAttribute.html#scalarattribute"><span class="std std-ref">ScalarAttribute</span></a>&gt;</td>
<td><a class="reference internal" href="GeometryAttributes.html#id50955"><span class="std std-ref">getOrCreateScalarAttribute</span></a> ! ( in <a class="reference internal" href="../Util/String.html#string"><span class="std std-ref">String</span></a> name )</td>
</tr>
<tr class="row-odd"><td>Ref&lt;<a class="reference internal" href="ScalarConstantArrayAttribute.html#scalarconstantarrayattribute"><span class="std std-ref">ScalarConstantArrayAttribute</span></a>&gt;</td>
<td><a class="reference internal" href="GeometryAttributes.html#id51050"><span class="std std-ref">getOrCreateScalarConstantArrayAttribute</span></a> ! ( in <a class="reference internal" href="../Util/String.html#string"><span class="std std-ref">String</span></a> name )</td>
</tr>
<tr class="row-even"><td>Ref&lt;<a class="reference internal" href="SkinningAttribute.html#skinningattribute"><span class="std std-ref">SkinningAttribute</span></a>&gt;</td>
<td><a class="reference internal" href="GeometryAttributes.html#id51312"><span class="std std-ref">getOrCreateSkinningAttribute</span></a> ! ( in <a class="reference internal" href="../Util/String.html#string"><span class="std std-ref">String</span></a> name )</td>
</tr>
<tr class="row-odd"><td>Ref&lt;<a class="reference internal" href="UInt16ConstantArrayAttribute.html#uint16constantarrayattribute"><span class="std std-ref">UInt16ConstantArrayAttribute</span></a>&gt;</td>
<td><a class="reference internal" href="GeometryAttributes.html#id51573"><span class="std std-ref">getOrCreateUInt16ConstantArrayAttribute</span></a> ! ( in <a class="reference internal" href="../Util/String.html#string"><span class="std std-ref">String</span></a> name )</td>
</tr>
<tr class="row-even"><td>Ref&lt;<a class="reference internal" href="UInt32Attribute.html#uint32attribute"><span class="std std-ref">UInt32Attribute</span></a>&gt;</td>
<td><a class="reference internal" href="GeometryAttributes.html#id51474"><span class="std std-ref">getOrCreateUInt32Attribute</span></a> ! ( in <a class="reference internal" href="../Util/String.html#string"><span class="std std-ref">String</span></a> name )</td>
</tr>
<tr class="row-odd"><td>Ref&lt;<a class="reference internal" href="Vec2Attribute.html#vec2attribute"><span class="std std-ref">Vec2Attribute</span></a>&gt;</td>
<td><a class="reference internal" href="GeometryAttributes.html#id51810"><span class="std std-ref">getOrCreateVec2Attribute</span></a> ! ( in <a class="reference internal" href="../Util/String.html#string"><span class="std std-ref">String</span></a> name )</td>
</tr>
<tr class="row-even"><td>Ref&lt;<a class="reference internal" href="Vec3Attribute.html#vec3attribute"><span class="std std-ref">Vec3Attribute</span></a>&gt;</td>
<td><a class="reference internal" href="GeometryAttributes.html#id51891"><span class="std std-ref">getOrCreateVec3Attribute</span></a> ! ( in <a class="reference internal" href="../Util/String.html#string"><span class="std std-ref">String</span></a> name )</td>
</tr>
<tr class="row-odd"><td>Ref&lt;<a class="reference internal" href="Vec3_dAttribute.html#vec3-dattribute"><span class="std std-ref">Vec3_dAttribute</span></a>&gt;</td>
<td><a class="reference internal" href="GeometryAttributes.html#id51972"><span class="std std-ref">getOrCreateVec3_dAttribute</span></a> ! ( in <a class="reference internal" href="../Util/String.html#string"><span class="std std-ref">String</span></a> name )</td>
</tr>
<tr class="row-even"><td>Ref&lt;<a class="reference internal" href="Vec4Attribute.html#vec4attribute"><span class="std std-ref">Vec4Attribute</span></a>&gt;</td>
<td><a class="reference internal" href="GeometryAttributes.html#id52051"><span class="std std-ref">getOrCreateVec4Attribute</span></a> ! ( in <a class="reference internal" href="../Util/String.html#string"><span class="std std-ref">String</span></a> name )</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="../Math/Vec3.html#vec3"><span class="std std-ref">Vec3</span></a></td>
<td><a class="reference internal" href="GeometryAttributes.html#id52397"><span class="std std-ref">getPosition</span></a> ? ( in Size index )</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../Math/Vec3_d.html#vec3-d"><span class="std std-ref">Vec3_d</span></a></td>
<td><a class="reference internal" href="GeometryAttributes.html#id52401"><span class="std std-ref">getPosition_d</span></a> ? ( in Size index )</td>
</tr>
<tr class="row-odd"><td>Ref&lt;<a class="reference internal" href="Vec3Attribute.html#vec3attribute"><span class="std std-ref">Vec3Attribute</span></a>&gt;</td>
<td><a class="reference internal" href="GeometryAttributes.html#id52391"><span class="std std-ref">getPositions</span></a> ? ()</td>
</tr>
<tr class="row-even"><td>Ref&lt;<a class="reference internal" href="Vec3_dAttribute.html#vec3-dattribute"><span class="std std-ref">Vec3_dAttribute</span></a>&gt;</td>
<td><a class="reference internal" href="GeometryAttributes.html#id52394"><span class="std std-ref">getPositions_d</span></a> ? ()</td>
</tr>
<tr class="row-odd"><td>Boolean</td>
<td><a class="reference internal" href="GeometryAttributes.html#id50689"><span class="std std-ref">has</span></a> ? ( in <a class="reference internal" href="../Util/String.html#string"><span class="std std-ref">String</span></a> name )</td>
</tr>
<tr class="row-even"><td>Boolean</td>
<td><a class="reference internal" href="GeometryAttributes.html#id50693"><span class="std std-ref">has</span></a> ? ( in <a class="reference internal" href="../Util/String.html#string"><span class="std std-ref">String</span></a> name, in Type attributeType )</td>
</tr>
<tr class="row-odd"><td>Boolean</td>
<td><a class="reference internal" href="GeometryAttributes.html#id52382"><span class="std std-ref">hasFloat64Positions</span></a> ? ()</td>
</tr>
<tr class="row-even"><td>&nbsp;</td>
<td><a class="reference internal" href="GeometryAttributes.html#id50645"><span class="std std-ref">incrementAttributesValueVersion</span></a> ! ()</td>
</tr>
<tr class="row-odd"><td>&nbsp;</td>
<td><a class="reference internal" href="GeometryAttributes.html#id50670"><span class="std std-ref">linearCombine</span></a> ? ( in <a class="reference internal" href="../Containers/LocalL16UInt32Array.html#locall16uint32array"><span class="std std-ref">LocalL16UInt32Array</span></a> sourceIndices, in <a class="reference internal" href="../Containers/LocalL16ScalarArray.html#locall16scalararray"><span class="std std-ref">LocalL16ScalarArray</span></a> sourceWeights, in Size targetIndex )</td>
</tr>
<tr class="row-even"><td>&nbsp;</td>
<td><a class="reference internal" href="GeometryAttributes.html#id50702"><span class="std std-ref">removeAttribute</span></a> ! ( in <a class="reference internal" href="../Util/String.html#string"><span class="std std-ref">String</span></a> name )</td>
</tr>
<tr class="row-odd"><td>&nbsp;</td>
<td><a class="reference internal" href="GeometryAttributes.html#id50706"><span class="std std-ref">resize</span></a> ! ( in Size newCount )</td>
</tr>
<tr class="row-even"><td>&nbsp;</td>
<td><a class="reference internal" href="GeometryAttributes.html#id52405"><span class="std std-ref">setPosition</span></a> ? ( in Size index, in <a class="reference internal" href="../Math/Vec3.html#vec3"><span class="std std-ref">Vec3</span></a> pos )</td>
</tr>
<tr class="row-odd"><td>&nbsp;</td>
<td><a class="reference internal" href="GeometryAttributes.html#id52410"><span class="std std-ref">setPosition</span></a> ? ( in Size index, in <a class="reference internal" href="../Math/Vec3_d.html#vec3-d"><span class="std std-ref">Vec3_d</span></a> pos )</td>
</tr>
<tr class="row-even"><td>Size</td>
<td><a class="reference internal" href="GeometryAttributes.html#id50659"><span class="std std-ref">size</span></a> ? ()</td>
</tr>
</tbody>
</table>
</p>
</div>
</div>
</p>
<p><div class="section" id="skinningattribute-object">
<h3>SkinningAttribute (object)<a class="headerlink" href="#skinningattribute-object" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p class="plaintext">brief The <code class="docutils literal"><span class="pre">SkinningAttribute</span></code> contains multiple pairs of id and weight per index.
For an index, id-weight pairs can be set one by one or in batch. It provides, too, helpers such as
<a class="reference internal" href="SkinningAttribute.html#skinningattribute"><span class="std std-ref">SkinningAttribute</span></a>.normalize to set weight sum to 1.0. By implementing methods such as
<a class="reference internal" href="GeometryAttribute.html#geometryattribute"><span class="std std-ref">GeometryAttribute</span></a>.LinearCombination, it can properly support modeling operations.</p>
<p class="plaintext">Various strategies are used to lower memory consumption and increase performance:</p>
<ul class="plaintext simple">
<li>contiguous memory storage in a few buffers to lower memory fragmentation and minimize memory allocations</li>
<li><code class="docutils literal"><span class="pre">counts</span></code> per index is implicit if values are appended in order (0 to N-1)</li>
<li>ids are stored <code class="docutils literal"><span class="pre">UInt16</span></code>, which lowers memory usage and still allows for up to 64K deformer ids</li>
</ul>
<div class="section" id="id4">
<h4>Members<a class="headerlink" href="#id4" title="このヘッドラインへのパーマリンク">¶</a></h4>
<table border="1" class="paramtable docutils">
<colgroup>
<col width="78%" />
<col width="18%" />
<col width="3%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="../Math/UInt32.html#uint32"><span class="std std-ref">UInt32</span></a></td>
<td>version</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../Util/String.html#string"><span class="std std-ref">String</span></a></td>
<td>name</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="../Math/UInt32.html#uint32"><span class="std std-ref">UInt32</span></a></td>
<td>containerIndex</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../FabricStatistics/StatisticsAutoRegisterMember.html#statisticsautoregistermember"><span class="std std-ref">StatisticsAutoRegisterMember</span></a></td>
<td>autoStats</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>Size</td>
<td>count</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>Ref&lt;<a class="reference internal" href="GeometryAttributes.html#geometryattributes"><span class="std std-ref">GeometryAttributes</span></a>&gt;</td>
<td>container</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="SkinningAttributeData.html#skinningattributedata"><span class="std std-ref">SkinningAttributeData</span></a></td>
<td>data</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../Math/UInt32.html#uint32"><span class="std std-ref">UInt32</span></a></td>
<td>memoryLocation</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<div class="highlight-kl"><div class="highlight"><pre><span></span><span class="cm">/*</span>
<span class="cm">** Example: SkinningAttribute</span>
<span class="cm">*/</span>

<span class="kr">require</span> <span class="nx">Geometry</span><span class="p">;</span>
  
<span class="kd">operator</span> <span class="nx">entry</span><span class="p">()</span> <span class="p">{</span>

      <span class="nx">SkinningAttribute</span> <span class="nx">skinningAttr</span> <span class="o">=</span> <span class="nx">SkinningAttribute</span><span class="p">();</span>
      
      <span class="c1">//Create 2 skinned items</span>
      <span class="nx">skinningAttr</span><span class="p">.</span><span class="nx">resize</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
      
      <span class="c1">//Item 0: 2 id-weight pairs:</span>
      <span class="c1">//  pair 0 = [20:0.25]</span>
      <span class="c1">//  pair 1 = [21:0.75]</span>
      <span class="nx">skinningAttr</span><span class="p">.</span><span class="nx">setPairCount</span><span class="p">(</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span> <span class="p">);</span>
      <span class="nx">skinningAttr</span><span class="p">.</span><span class="nx">setPair</span><span class="p">(</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mf">0.25</span> <span class="p">);</span>
      <span class="nx">skinningAttr</span><span class="p">.</span><span class="nx">setPair</span><span class="p">(</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">21</span><span class="p">,</span> <span class="mf">0.75</span> <span class="p">);</span>
      
      <span class="c1">//Item 1: set 3 id-weight pairs in batch = [30:0.5, 31:0.5, 32:0.25]</span>
      <span class="nx">LocalL16UInt32Array</span> <span class="nx">indices</span><span class="p">;</span>
      <span class="nx">indices</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="mi">30</span><span class="p">);</span>
      <span class="nx">indices</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="mi">31</span><span class="p">);</span>
      <span class="nx">indices</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="mi">32</span><span class="p">);</span>
      
      <span class="nx">LocalL16ScalarArray</span> <span class="nx">weights</span><span class="p">;</span>
      <span class="nx">weights</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="mf">0.5</span><span class="p">);</span>
      <span class="nx">weights</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="mf">0.5</span><span class="p">);</span>
      <span class="nx">weights</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="mf">0.25</span><span class="p">);</span>
      
      <span class="nx">skinningAttr</span><span class="p">.</span><span class="nx">setPairs</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nx">indices</span><span class="p">,</span> <span class="nx">weights</span><span class="p">);</span>
      
      <span class="nx">Scalar</span> <span class="nx">weight</span><span class="p">;</span>
      <span class="kr">UInt16</span> <span class="nx">id</span><span class="p">;</span>
      <span class="k">for</span><span class="p">(</span> <span class="nx">Size</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">skinningAttr</span><span class="p">.</span><span class="nx">getPairCount</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span> <span class="o">++</span><span class="nx">i</span> <span class="p">)</span> <span class="p">{</span>
        <span class="nx">skinningAttr</span><span class="p">.</span><span class="nx">getPair</span><span class="p">(</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">i</span><span class="p">,</span> <span class="nx">id</span><span class="p">,</span> <span class="nx">weight</span> <span class="p">);</span>
        <span class="nb">report</span><span class="p">(</span><span class="s2">&quot;Item0: pair&quot;</span> <span class="o">+</span> <span class="nx">i</span> <span class="o">+</span> <span class="s2">&quot;: id=&quot;</span><span class="o">+</span><span class="nx">id</span><span class="o">+</span><span class="s2">&quot; weight=&quot;</span><span class="o">+</span><span class="nx">weight</span><span class="p">);</span>
      <span class="p">}</span>
      
      <span class="nx">skinningAttr</span><span class="p">.</span><span class="nx">getPairs</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nx">indices</span><span class="p">,</span> <span class="nx">weights</span><span class="p">);</span>
      <span class="nb">report</span><span class="p">(</span><span class="s2">&quot;Item1: ids=&quot;</span><span class="o">+</span><span class="nx">indices</span><span class="p">.</span><span class="nx">getString</span><span class="p">()</span><span class="o">+</span><span class="s2">&quot; weights=&quot;</span><span class="o">+</span><span class="nx">weights</span><span class="p">.</span><span class="nx">getString</span><span class="p">());</span>
      
      <span class="nx">skinningAttr</span><span class="p">.</span><span class="nx">normalize</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
      <span class="nx">skinningAttr</span><span class="p">.</span><span class="nx">normalize</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
      <span class="nb">report</span><span class="p">(</span><span class="s2">&quot;Values after normalize:&quot;</span><span class="p">);</span>
      <span class="nb">report</span><span class="p">(</span> <span class="nx">skinningAttr</span><span class="p">.</span><span class="nx">getDesc</span><span class="p">(</span> <span class="kc">true</span><span class="p">)</span> <span class="p">);</span>
  
<span class="p">}</span>

<span class="cm">/*</span>
<span class="cm">** Output:</span>

<span class="cm">Item0: pair0: id=20 weight=+0.25</span>
<span class="cm">Item0: pair1: id=21 weight=+0.75</span>
<span class="cm">Item1: ids=[30, 31, 32] weights=[+0.5, +0.5, +0.25]</span>
<span class="cm">Values after normalize:</span>
<span class="cm">Attribute:  nb elements = 2</span>
<span class="cm">  values:[ </span>
<span class="cm">    [20:+0.25, 21:+0.75] </span>
<span class="cm">    [30:+0.400024, 31:+0.400024, 32:+0.200012] </span>
<span class="cm">  ]</span>


<span class="cm">*/</span>
</pre></div>
</div>
</div>
<div class="section" id="id5">
<h4>Methods<a class="headerlink" href="#id5" title="このヘッドラインへのパーマリンク">¶</a></h4>
<p><table border="1" class="methodtable docutils">
<colgroup>
<col width="15%" />
<col width="85%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>&nbsp;</td>
<td><a class="reference internal" href="SkinningAttribute.html#id114443"><span class="std std-ref">SkinningAttribute</span></a>  ( in <a class="reference internal" href="SkinningAttribute.html#skinningattribute"><span class="std std-ref">SkinningAttribute</span></a> other )</td>
</tr>
<tr class="row-even"><td>&nbsp;</td>
<td><a class="reference internal" href="SkinningAttribute.html#id114440"><span class="std std-ref">SkinningAttribute</span></a>  ()</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="SkinningAttribute.html#skinningattribute"><span class="std std-ref">SkinningAttribute</span></a></td>
<td><a class="reference internal" href="SkinningAttribute.html#id114447"><span class="std std-ref">clone</span></a> ? ()</td>
</tr>
<tr class="row-even"><td>&nbsp;</td>
<td><a class="reference internal" href="SkinningAttribute.html#id51103"><span class="std std-ref">cloneMembersTo</span></a> ? ( io <a class="reference internal" href="SkinningAttribute.html#skinningattribute"><span class="std std-ref">SkinningAttribute</span></a> that )</td>
</tr>
<tr class="row-odd"><td>&nbsp;</td>
<td><a class="reference internal" href="SkinningAttribute.html#id51116"><span class="std std-ref">convertToCPU</span></a> ! ()</td>
</tr>
<tr class="row-even"><td>&nbsp;</td>
<td><a class="reference internal" href="SkinningAttribute.html#id51113"><span class="std std-ref">convertToGPU</span></a> ! ()</td>
</tr>
<tr class="row-odd"><td>&nbsp;</td>
<td><a class="reference internal" href="SkinningAttribute.html#id51161"><span class="std std-ref">copyValue</span></a> ! ( in Ref&lt;Object&gt; sourceAttr, in Size sourceIndex, in Size targetIndex )</td>
</tr>
<tr class="row-even"><td>&nbsp;</td>
<td><a class="reference internal" href="SkinningAttribute.html#id51150"><span class="std std-ref">copyValue</span></a> ! ( in Size sourceIndex, in Size targetIndex )</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="../Math/UInt16.html#uint16"><span class="std std-ref">UInt16</span></a>[]</td>
<td><a class="reference internal" href="SkinningAttribute.html#id51097"><span class="std std-ref">counts</span></a> ? ()</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../Util/Data.html#data"><span class="std std-ref">Data</span></a></td>
<td><a class="reference internal" href="SkinningAttribute.html#id51107"><span class="std std-ref">data</span></a> ? ()</td>
</tr>
<tr class="row-odd"><td>Boolean</td>
<td><a class="reference internal" href="SkinningAttribute.html#id51294"><span class="std std-ref">equalValues</span></a> ? ( in Size index1, in Size index2 )</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../Math/UInt32.html#uint32"><span class="std std-ref">UInt32</span></a></td>
<td><a class="reference internal" href="SkinningAttribute.html#id51110"><span class="std std-ref">getElementsMemType</span></a> ? ()</td>
</tr>
<tr class="row-odd"><td>&nbsp;</td>
<td><a class="reference internal" href="SkinningAttribute.html#id51252"><span class="std std-ref">getLinearCombination</span></a> ? ( in <a class="reference internal" href="../Containers/LocalL16UInt32Array.html#locall16uint32array"><span class="std std-ref">LocalL16UInt32Array</span></a> sourceIndices, in <a class="reference internal" href="../Containers/LocalL16ScalarArray.html#locall16scalararray"><span class="std std-ref">LocalL16ScalarArray</span></a> sourceWeights, out <a class="reference internal" href="../Containers/LocalL16UInt32Array.html#locall16uint32array"><span class="std std-ref">LocalL16UInt32Array</span></a> skinIds, out <a class="reference internal" href="../Containers/LocalL16ScalarArray.html#locall16scalararray"><span class="std std-ref">LocalL16ScalarArray</span></a> skinWeights )</td>
</tr>
<tr class="row-even"><td>&nbsp;</td>
<td><a class="reference internal" href="SkinningAttribute.html#id51214"><span class="std std-ref">getPair</span></a> ? ( in <a class="reference internal" href="../Math/UInt32.html#uint32"><span class="std std-ref">UInt32</span></a> index, in <a class="reference internal" href="../Math/UInt32.html#uint32"><span class="std std-ref">UInt32</span></a> offset, out <a class="reference internal" href="../Math/UInt16.html#uint16"><span class="std std-ref">UInt16</span></a> id, out <a class="reference internal" href="../Math/Scalar.html#scalar"><span class="std std-ref">Scalar</span></a> weight )</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="../Math/UInt16.html#uint16"><span class="std std-ref">UInt16</span></a></td>
<td><a class="reference internal" href="SkinningAttribute.html#id51189"><span class="std std-ref">getPairCount</span></a> ? ( in <a class="reference internal" href="../Math/UInt32.html#uint32"><span class="std std-ref">UInt32</span></a> index )</td>
</tr>
<tr class="row-even"><td>&nbsp;</td>
<td><a class="reference internal" href="SkinningAttribute.html#id51227"><span class="std std-ref">getPairs</span></a> ? ( in <a class="reference internal" href="../Math/UInt32.html#uint32"><span class="std std-ref">UInt32</span></a> index, out <a class="reference internal" href="../Containers/LocalL16UInt32Array.html#locall16uint32array"><span class="std std-ref">LocalL16UInt32Array</span></a> skinIds, out <a class="reference internal" href="../Containers/LocalL16ScalarArray.html#locall16scalararray"><span class="std std-ref">LocalL16ScalarArray</span></a> skinWeights )</td>
</tr>
<tr class="row-odd"><td>Size</td>
<td><a class="reference internal" href="SkinningAttribute.html#id51286"><span class="std std-ref">getScalarValueSize</span></a> ? ()</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../Math/UInt16.html#uint16"><span class="std std-ref">UInt16</span></a>[]</td>
<td><a class="reference internal" href="SkinningAttribute.html#id51091"><span class="std std-ref">ids</span></a> ? ()</td>
</tr>
<tr class="row-odd"><td>&nbsp;</td>
<td><a class="reference internal" href="SkinningAttribute.html#id51266"><span class="std std-ref">linearCombine</span></a> ! ( in Ref&lt;Object&gt; sourceAttr, in <a class="reference internal" href="../Containers/LocalL16UInt32Array.html#locall16uint32array"><span class="std std-ref">LocalL16UInt32Array</span></a> sourceIndices, in <a class="reference internal" href="../Containers/LocalL16ScalarArray.html#locall16scalararray"><span class="std std-ref">LocalL16ScalarArray</span></a> sourceWeights, in Size targetIndex )</td>
</tr>
<tr class="row-even"><td>&nbsp;</td>
<td><a class="reference internal" href="SkinningAttribute.html#id51277"><span class="std std-ref">normalize</span></a> ! ( in Size index )</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="../Math/UInt32.html#uint32"><span class="std std-ref">UInt32</span></a>[]</td>
<td><a class="reference internal" href="SkinningAttribute.html#id51094"><span class="std std-ref">offsets</span></a> ? ()</td>
</tr>
<tr class="row-even"><td>&nbsp;</td>
<td><a class="reference internal" href="SkinningAttribute.html#id51135"><span class="std std-ref">resize</span></a> ! ( in Size count )</td>
</tr>
<tr class="row-odd"><td>&nbsp;</td>
<td><a class="reference internal" href="SkinningAttribute.html#id51281"><span class="std std-ref">setFromScalar</span></a> ! ( in Size index, in <a class="reference internal" href="../Containers/LocalL16ScalarArray.html#locall16scalararray"><span class="std std-ref">LocalL16ScalarArray</span></a> value )</td>
</tr>
<tr class="row-even"><td>&nbsp;</td>
<td><a class="reference internal" href="SkinningAttribute.html#id51200"><span class="std std-ref">setPair</span></a> ! ( in <a class="reference internal" href="../Math/UInt32.html#uint32"><span class="std std-ref">UInt32</span></a> index, in <a class="reference internal" href="../Math/UInt32.html#uint32"><span class="std std-ref">UInt32</span></a> offset, in <a class="reference internal" href="../Math/UInt16.html#uint16"><span class="std std-ref">UInt16</span></a> id, in <a class="reference internal" href="../Math/Scalar.html#scalar"><span class="std std-ref">Scalar</span></a> weight )</td>
</tr>
<tr class="row-odd"><td>&nbsp;</td>
<td><a class="reference internal" href="SkinningAttribute.html#id51180"><span class="std std-ref">setPairCount</span></a> ! ( in <a class="reference internal" href="../Math/UInt32.html#uint32"><span class="std std-ref">UInt32</span></a> index, in <a class="reference internal" href="../Math/UInt16.html#uint16"><span class="std std-ref">UInt16</span></a> pairCount )</td>
</tr>
<tr class="row-even"><td>&nbsp;</td>
<td><a class="reference internal" href="SkinningAttribute.html#id51239"><span class="std std-ref">setPairs</span></a> ! ( in <a class="reference internal" href="../Math/UInt32.html#uint32"><span class="std std-ref">UInt32</span></a> index, in <a class="reference internal" href="../Containers/LocalL16UInt32Array.html#locall16uint32array"><span class="std std-ref">LocalL16UInt32Array</span></a> skinIds, in <a class="reference internal" href="../Containers/LocalL16ScalarArray.html#locall16scalararray"><span class="std std-ref">LocalL16ScalarArray</span></a> skinWeights )</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="../Util/String.html#string"><span class="std std-ref">String</span></a></td>
<td><a class="reference internal" href="SkinningAttribute.html#id51308"><span class="std std-ref">unitTestPrint</span></a> ? ( in Size index )</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../Util/String.html#string"><span class="std std-ref">String</span></a></td>
<td><a class="reference internal" href="SkinningAttribute.html#id51304"><span class="std std-ref">valueDesc</span></a> ? ( in Size index )</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="../Containers/UInt32ArrayAllocator.html#uint32arrayallocator"><span class="std std-ref">UInt32ArrayAllocator</span></a></td>
<td><a class="reference internal" href="SkinningAttribute.html#id51088"><span class="std std-ref">weightsAllocator</span></a> ? ()</td>
</tr>
</tbody>
</table>
</p>
</div>
</div>
</p>
</div>
</p>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../index.html">
              <img class="logo" src="../../_static/FE_logo_211_37.png" alt="Logo"/>
            </a></p>
  <h4>前のトピックへ</h4>
  <p class="topless"><a href="ScalarConstantArrayAttribute.kl.html"
                        title="前の章へ">ScalarConstantArrayAttribute.kl</a></p>
  <h4>次のトピックへ</h4>
  <p class="topless"><a href="SparseGrid.kl.html"
                        title="次の章へ">SparseGrid.kl</a></p>
  <div role="note" aria-label="source link">
    <h3>このページ</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/KLExtensionsGuide/Geometry/SkinningAttribute.kl.txt"
            rel="nofollow">ソースコードを表示</a></li>
    <li><a href="http://docs.fabric-engine.com/FabricEngine/latest/HTML/KLExtensionsGuide/Geometry/SkinningAttribute.html"
              rel="nofollow">原文公式ページへ移動 (goto official page)</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>クイック検索</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="検索" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>ナビゲーション</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="総合索引"
             >索引</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Pythonモジュール索引"
             >モジュール</a> |</li>
        <li class="right" >
          <a href="SparseGrid.kl.html" title="SparseGrid.kl"
             >次へ</a> |</li>
        <li class="right" >
          <a href="ScalarConstantArrayAttribute.kl.html" title="ScalarConstantArrayAttribute.kl"
             >前へ</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">Fabric Engine 2.3.0 Unofficial Documentation (ja)</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >KL エクステンションガイド</a> &raquo;</li>
          <li class="nav-item nav-item-2"><a href="index.html" >Geometry エクステンション</a> &raquo;</li>
          <li class="nav-item nav-item-3"><a href="files.html" >Geometry Extension&#8217;s Files</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2010-2016 Fabric Software Inc.
      このドキュメントは <a href="http://sphinx-doc.org/">Sphinx</a> 1.4.1 で生成しました。
    </div>
  </body>
</html>